(this.webpackJsonpassignment_2=this.webpackJsonpassignment_2||[]).push([[0],{25:function(e,t,n){e.exports=n(73)},30:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(8),c=n.n(s),u=(n(30),n(5)),l=n(3),i=n(7),o=n.n(i);o.a.defaults.baseURL="http://localhost:9000";var E=function(){return function(e){e({type:"GET_IM_PENDING"}),o.a.get("/messages").then((function(t){e({type:"GET_IM_SUCESS",msg:t.data.data})})).catch((function(t){console.log("Im error:",t),e({type:"GET_IM_FAILURE",error:t})}))}};function m(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.value})),n=Object(a.useState)(),s=Object(u.a)(n,2),c=s[0],i=s[1],m=Object(a.useState)(),d=Object(u.a)(m,2),g=d[0],S=d[1],b=Object(a.useState)(),f=Object(u.a)(b,2),v=f[0],_=f[1],p=function(t){t.preventDefault();var n,a={name:c,content:g,date:v};a.name&&a.content&&a.date&&(console.log("inside adding new message!",a),e((n=a,function(e){e({type:"POST_MESSAGE_PENDING"}),o.a.post("/add",n).then((function(t){e(function(e,t){return{type:"POST_MESSAGE_SUCCESS",response:e,newMsg:t}}(t.data.data,n)),e(E())})).catch((function(t){e({type:"POST_MESSAGE_FAILURE",error:t})}))})),S(""),_(null))};return r.a.createElement("form",{onSubmit:function(e){return p(e)}},r.a.createElement("label",null,"Username:",r.a.createElement("input",{id:"name",type:"text",value:t,onChange:function(t){return function(t){i(t.target.value),e(function(e,t){return{type:"HANDLE_USER",input_name1:e,value:t}}(t.target.name,t.target.value))}(t)}})),r.a.createElement("label",null,"Enter Your Message:",r.a.createElement("input",{id:"msg",type:"text",value:t,onChange:function(t){return function(t){S(t.target.value);var n=Math.floor(Date.now()/1e3);_(n),console.log("date inside handleMsg:",n),e(function(e,t){return{type:"HANDLE_MSG",input_name2:e,value:t}}(t.target.name,t.target.value))}(t)}})),r.a.createElement("input",{type:"submit",value:"Submit"}))}var d=n(10),g=n.n(d);n(22);function S(){var e=Object(l.b)(),t=Object(a.useState)(!1),n=Object(u.a)(t,2),s=n[0],c=n[1];Object(a.useEffect)((function(){e(E())}),[]),Object(a.useEffect)((function(){var e=setTimeout(i(),1e4);return function(){return clearTimeout(e)}}),[]);var i=function(){c(!0)},o=Object(l.c)((function(e){return e.messages.messages})),m=Object(l.c)((function(e){return e.messages.requestStatus})),d=[];return o&&(d=o.map((function(t,n){return r.a.createElement(a.Fragment,{key:n},r.a.createElement("li",{className:"msg_send",onClick:function(){return function(t){e({type:"GET_ACTIVE_MSG",id:t})}(n)}},r.a.createElement("div",{className:"msg"},r.a.createElement("div",{className:"msg_content"},r.a.createElement("button",{onClick:function(){return function(t){e({type:"GET_DELETE",id:t})}(n)}},"X"),r.a.createElement("div",{className:"msg_username"},t.name),r.a.createElement("div",{className:"msg_message"},t.content)))))}))),r.a.createElement("ul",{className:"msg_list"},m.isPending&s?r.a.createElement("div",null,r.a.createElement(g.a,{type:"BallTriangle",color:"#00BFFF",height:100,width:100,timeout:1e4})):d,m.isFailure?r.a.createElement("div",null,"Error! ",m.error.message):null)}n(72);function b(){var e=Object(l.c)((function(e){return e.id})),t=Object(l.c)((function(e){return e.messages.messages})),n="N/A",a="N/A",s="N/A";return(e||0===e)&&(n=t[e].name,a=t[e].content,s=t[e].date),r.a.createElement("div",{id:"detailedView",className:"popup"},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("h1",null,"Detailed View "),r.a.createElement("p",null,"message index is: ",e," ",r.a.createElement("br",null),r.a.createElement("br",null),"username: ",n,r.a.createElement("br",null),r.a.createElement("br",null),"content: ",a,r.a.createElement("br",null),r.a.createElement("br",null),"date: ",s," ",r.a.createElement("br",null),r.a.createElement("br",null))))}var f=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1];return{isShowing:n,toggle:function(){r(!n)},hide:function(){r(!1)},show:function(){r(!0)}}};function v(){var e=Object(l.b)(),t=function(t){e((function(e){e({type:"DELETE_ALL_PENDING"}),o.a.delete("/").then((function(t){e({type:"DELETE_ALL_SUCCESS",response:t.data})})).catch((function(t){e({type:"DELETE_ALL_FAILURE",error:t})}))}))};return r.a.createElement("button",{id:"clear",onClick:function(e){return t()}},"CLEAR ALL.")}var _=function(){var e=f(),t=e.isShowing,n=e.toggle;return r.a.createElement("div",{className:"body"},r.a.createElement("header",null,"Stygian Home"),r.a.createElement("section",{className:"container"},r.a.createElement("div",{id:"all_messages"},r.a.createElement(S,null),r.a.createElement("button",{className:"detail_button",onClick:function(){return n()}},"Show Details"),r.a.createElement(v,null)),r.a.createElement("div",{id:"form"},t?r.a.createElement("div",null,r.a.createElement("button",{id:"close_button",onClick:function(){return n()}},"X"),r.a.createElement(b,null)):null,r.a.createElement(m,null))))},p=n(6),O=n(1),j={requestStatus:{isPending:!1,isSuccess:!1,isFailure:!1,error:null},messages:[],serverResponse:null},h={v1:"",v2:""},L=Object(p.c)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DELETE":return Object(O.a)(Object(O.a)({},e),{},{messages:e.messages.filter((function(e,n){return n!==t.id}))});case"GET_IM_PENDING":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:{isPending:!0,isSuccess:!1,isFailure:!1,error:null}});case"GET_IM_SUCESS":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:{isPending:!1,isSuccess:!0,isFailure:!1,error:null},messages:t.msg});case"GET_IM_FAILURE":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:{isPending:!1,isSuccess:!1,isFailure:!0,error:t.error},messages:[]});case"POST_MESSAGE_PENDING":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:{isPending:!0,isSuccess:!1,isFailure:!1,error:null},serverResponse:{}});case"POST_MESSAGE_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:{isPending:!1,isSuccess:!0,isFailure:!1,error:null},serverResponse:t.response});case"POST_MESSAGE_FAILURE":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:{isPending:!1,isSuccess:!1,isFailure:!0,error:t.error},serverResponse:{}});case"DELETE_ALL_PENDING":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:{isPending:!0,isSuccess:!1,isFailure:!1,error:null},serverResponse:{}});case"DELETE_ALL_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:{isPending:!1,isSuccess:!0,isFailure:!1,error:null},messages:[],serverResponse:{}});case"DELETE_ALL_FAILURE":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:{isPending:!1,isSuccess:!1,isFailure:!0,error:t.error},serverResponse:{}});default:return e}},f:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANDLE_USER":return Object.assign({},e,{v1:t.value});case"HANDLE_MSG":return Object.assign({},e,{v2:t.value});default:return e}},id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ACTIVE_MSG":return t.id;default:return e}}}),N=n(24),A=Object(p.d)(L,Object(p.a)(N.a));c.a.render(r.a.createElement(l.a,{store:A},r.a.createElement(_,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.e9952a41.chunk.js.map